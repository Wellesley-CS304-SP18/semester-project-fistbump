USE lluo2_db;

CREATE TABLE user_id (uID int NOT NULL AUTO_INCREMENT PRIMARY KEY,
                      uName varchar(100) NOT NULL,
                      email varchar(100) NOT NULL,
                      pwd varchar(255) NOT NULL) ENGINE=InnoDB;

CREATE TABLE job_opp (jobID int NOT NULL AUTO_INCREMENT PRIMARY KEY, 
       	     	      company varchar(50) NOT NULL, 
		      link varchar(255) NOT NULL, 
		      classPref ENUM('freshman', 'sophomore', 'junior', 'senior', 'underclassman', 'upperclassman', 'all') NOT NULL, 
		      jobTitle ENUM('ENGINEERING', 'DESIGN', 'PM', 'OTHER') NOT NULL, 
		      jobType ENUM('internship', 'part-time', 'full-time') NOT NULL,
		      season ENUM('fall', 'spring', 'summer', 'winter', 'year-round') NOT NULL, 
		      deadline DATE NOT NULL) ENGINE=InnoDB;

CREATE TABLE job_review (jobID int DEFAULT NULL,
       	     		 jobYear YEAR NOT NULL,
			 reviewer int NOT NULL,
			 review varchar(1000) NOT NULL,
			 PRIMARY KEY(jobID, reviewer),
       	     	  	 FOREIGN KEY (jobID) REFERENCES job_opps(jobID) ON DELETE SET NULL,
			 FOREIGN KEY (reviewer) REFERENCES user_id(uID) ON DELETE CASCADE) ENGINE=InnoDB;